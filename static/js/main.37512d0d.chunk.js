(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[0],{258:function(e,t,n){},259:function(e,t,n){},388:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(24),s=n.n(a),i=(n(258),n(259),n(15)),o=n(497),l=n(468),u=n(469),j=n(470),d=n(140),b=n(471),h=n(502),O=n(227),m=n(216),x=n.n(m),p=n(18),g=n(207),f=n(21),v=n(92),y="LOGIN_USER",w="LOGOUT_TOKEN",k="REFRESH_TOKEN",S="SET_AUTHENTICATED",C=function(e){return{type:y,payload:e}},N=function(){return console.log("Log out Action Initiated"),{type:w}},T=function(e,t,n){return{type:S,authenticated:e,username:t,name:n}},P={authenticated:!1,username:null,name:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n=t.authenticated,r=t.username,c=t.name;return Object(v.a)(Object(v.a)({},e),{},{authenticated:n,username:r,name:c});default:return e}},q=n(506),A=n(463),E=n(464),F=n(465),I=n(466),L=n(467),U=n(2);function M(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useRef)(null),s=Object(r.useRef)(null),o=Object(f.b)(),l=Object(f.c)((function(e){return e.auth.authenticated})),u=function(){c(!1),o(N()),clearTimeout(s.current),console.log("User has been logged out")},j=function(){c(!1),o((console.log("Refresh Token Action Initiated"),{type:k})),clearTimeout(s.current),console.log("User is active")};return Object(U.jsxs)("div",{children:[l&&Object(U.jsx)(g.a,{ref:a,timeout:1e4,onIdle:function(){console.log("User is idle"),c(!0),s.current=setTimeout(u,6e4)}}),Object(U.jsxs)(q.a,{open:n,onClose:j,children:[Object(U.jsx)(A.a,{id:"alert-dialog-title",children:"You've been idle for a while!"}),Object(U.jsx)(E.a,{children:Object(U.jsx)(F.a,{id:"alert-dialog-description",children:"You will be logged out soon"})}),Object(U.jsxs)(I.a,{children:[Object(U.jsx)(L.a,{onClick:u,color:"primary",children:"Log Out"}),Object(U.jsx)(L.a,{onClick:j,color:"primary",autoFocus:!0,children:"Stay Active"})]})]})]})}function R(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(p.h)(),s=Object(f.b)(),m=function(){c(null)},g=Object(f.c)((function(e){return e.auth.authenticated}));return Object(r.useEffect)((function(){console.log("Main Page Loaded"),console.log("Auth : "+g),g||a("/")}),[g,a]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M,{}),Object(U.jsx)(o.a,{children:Object(U.jsx)(l.a,{position:"static",children:Object(U.jsx)(u.a,{children:Object(U.jsxs)(j.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(j.a,{container:!0,direction:"column",justifyContent:"center",children:Object(U.jsxs)(j.a,{item:!0,children:[" ",Object(U.jsx)(d.a,{variant:"h6",children:"Social Media App"})]})})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(j.a,{container:!0,direction:"column",justifyContent:"center",children:Object(U.jsxs)(j.a,{item:!0,children:[" ",Object(U.jsx)(d.a,{variant:"h6",children:"Posts Feed"})]})})}),Object(U.jsxs)(j.a,{item:!0,children:[Object(U.jsx)(b.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(e){c(e.currentTarget)},children:Object(U.jsx)(x.a,{})}),Object(U.jsx)(O.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(n),onClose:m,children:Object(U.jsx)(h.a,{onClick:function(){s(N()),m(),a("/")},children:"Log Out"})})]})]})})})}),Object(U.jsx)(o.a,{children:Object(U.jsxs)(j.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(U.jsx)(j.a,{item:!0,xs:0,md:3,children:Object(U.jsx)("div",{})}),Object(U.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(U.jsx)(p.b,{})}),Object(U.jsx)(j.a,{item:!0,xs:0,md:3,children:Object(U.jsx)("div",{})})]})})]})}var D=n(480),_=n(229),J=n(496),z=n(482),H=n(30),V=n(43),W=n(483),K=n(484),G=Object(D.a)((function(e){return{centerDiv:{minWidth:"900px",position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -40%)"},paperStyles:{minWidth:"900px",padding:e.spacing(20,20)},buttonBlock:{width:"90%",margin:"auto auto",display:"block"}}}));function Y(){var e=G(),t=Object(p.h)(),n=Object(f.c)((function(e){return e.auth.authenticated}));return Object(r.useEffect)((function(){n&&t("/home")}),[n,t]),Object(U.jsx)("div",{className:e.centerDiv,children:Object(U.jsx)(_.a,{className:e.paperStyle,children:Object(U.jsxs)(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(U.jsx)(j.a,{item:!0,xs:8,children:Object(U.jsx)("img",{src:"/sm-frontend/assets/login_side.svg",width:"100%",height:"auto",backgroundRepeat:"no-repeat",backgroundSize:"cover",alt:"logo"})}),Object(U.jsx)(j.a,{item:!0,xs:4,children:Object(U.jsx)(Z,{})})]})})})}var $={username:"",password:""};function Z(){var e=G(),t=Object(p.h)(),n=Object(f.b)();return Object(U.jsxs)("div",{style:{width:250},children:[Object(U.jsx)(j.a,{container:!0,justify:"center",children:Object(U.jsx)("img",{src:"/sm-frontend/assets/login_top.svg",width:200,alt:"logo",style:{padding:"20px 20px 20px 20px"}})}),Object(U.jsx)("div",{style:{height:20}}),Object(U.jsx)(H.d,{initialValues:$,validationSchema:V.a().shape({username:V.c().required("Username is required"),password:V.c().required("Password is required")}),onSubmit:function(e,t){console.log("Submition Done"),console.log(e),n(C(e))},children:function(r){r.values,r.errors;var c=r.isSubmitting,a=r.isValidating;return Object(U.jsxs)("div",{style:{textAlign:"center"},children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(d.a,{component:"h1",variant:"h6",children:"Social Media App"})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(d.a,{component:"h1",variant:"h6",children:"Sign in"})}),Object(U.jsxs)(j.a,{item:!0,container:!0,direction:"column",justify:"center",spacing:3,children:[Object(U.jsxs)(H.c,{children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(H.b,{required:!0,name:"username",type:"string",as:J.a,label:"Username",InputProps:{startAdornment:Object(U.jsx)(z.a,{position:"start",children:Object(U.jsx)(W.a,{})})}})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(H.a,{name:"username"})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(H.b,{required:!0,name:"password",type:"password",as:J.a,label:"Password",InputProps:{startAdornment:Object(U.jsx)(z.a,{position:"start",children:Object(U.jsx)(K.a,{})})}})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(H.a,{name:"password"})}),Object(U.jsx)("div",{style:{height:20}}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(o.a,{marginBottom:2,children:Object(U.jsx)(L.a,{color:"primary",variant:"contained",type:"submit",disabled:c||a,className:e.buttonBlock,children:"Submit"})})}),Object(U.jsx)("div",{style:{height:5}}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(o.a,{children:Object(U.jsx)(L.a,{color:"default",type:"submit",onClick:function(){return t("/register")},className:e.buttonBlock,children:"Register"})})}),Object(U.jsx)("div",{style:{height:5}})]}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(o.a,{children:Object(U.jsx)(L.a,{color:"default",type:"submit",onClick:function(){n(C({username:"username1",password:"Password123"})),t("/home")},className:e.buttonBlock,children:"Demo Login"})})})]})]})}})]})}var Q=n(485),X=n(486),ee=n(90),te=n.n(ee),ne=te.a.create();var re=Object(D.a)((function(e){return{centerDiv:{minWidth:"900px",position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -40%)"},wrapDiv:{padding:e.spacing(2,2)},regPaper:{width:"300px",align:"center",display:"block",padding:e.spacing(2,2),margin:e.spacing(8,2)},paperStyles:{minWidth:"900px"},buttonBlock:{width:"90%",margin:"auto auto",display:"block"}}})),ce={name:"",username:"",password:"",passwordConfirmation:""};function ae(){var e=re(),t=Object(p.h)();return Object(U.jsx)("div",{className:e.centerDiv,children:Object(U.jsx)(_.a,{className:e.paperStyles,children:Object(U.jsxs)(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(U.jsx)(j.a,{item:!0,xs:7,children:Object(U.jsx)("div",{className:e.wrapDiv,children:Object(U.jsx)("img",{src:"/sm-frontend/assets/register_side.svg",width:"100%",height:"auto",backgroundRepeat:"no-repeat",backgroundSize:"cover",alt:"logo"})})}),Object(U.jsx)(j.a,{item:!0,xs:5,children:Object(U.jsxs)("div",{className:e.regPaper,children:[Object(U.jsxs)("div",{children:[Object(U.jsx)("img",{src:"/sm-frontend/assets/register_top.png",width:50,height:50,alt:"logo"}),Object(U.jsx)(d.a,{variant:"h4",children:"Social Media App"})]}),Object(U.jsx)("div",{children:Object(U.jsx)(d.a,{variant:"h6",children:"Registration"})}),Object(U.jsx)(H.d,{initialValues:ce,validationSchema:V.a().shape({name:V.c().required().min(6,"Name needs to be atleast 6 character long").max(50,"Name cannot be more than 50 characters long4"),username:V.c().required("User Name is required").test("username","Username Exists already",(function(e,t){return!0})).min(6,"Username must be at least 6 characters").max(50,"Username must be less 50 characters"),password:V.c().min(8,"Password must be at least 8 characters").max(50,"Password must be less than 50 characters").matches(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,"Password must contain at least 8 characters, one uppercase, one number and one special case character").required("Password is required"),passwordConfirmation:V.c().oneOf([V.b("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(e,n){(function(e){var t="".concat("http://localhost:5000","/auth/register");return console.log(JSON.stringify(e)),ne.post(t,{name:e.name,username:e.username,password:e.password}).then((function(e){return 200===e.status})).catch((function(e){return console.log("Registration Completed : "+JSON.stringify(e)),!1}))})(e).then((function(e){console.log(JSON.stringify(e)),t("/")})).catch()},children:function(t){t.values,t.errors;var n=t.isSubmitting,r=t.isValidating;return Object(U.jsxs)(H.c,{children:[Object(U.jsx)(o.a,{marginBottom:2,children:Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(H.b,{required:!0,name:"name",type:"string",as:J.a,label:"Full Name"}),Object(U.jsx)(H.a,{name:"name"})]})}),Object(U.jsx)(o.a,{marginBottom:2,children:Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(H.b,{required:!0,name:"username",type:"string",as:J.a,label:"User Name"}),Object(U.jsx)(H.a,{name:"username"})]})}),Object(U.jsx)(o.a,{marginBottom:2,children:Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(H.b,{required:!0,id:"password",name:"password",label:"Password",as:J.a,type:"password",autoComplete:"current-password"}),Object(U.jsx)(H.a,{name:"password"})]})}),Object(U.jsx)(o.a,{marginBottom:2,children:Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(H.b,{required:!0,id:"passwordConfirmation",name:"passwordConfirmation",label:"Confirm Password",as:J.a,type:"password",autoComplete:"current-password"}),Object(U.jsx)(H.a,{name:"passwordConfirmation"})]})}),Object(U.jsx)("div",{}),Object(U.jsx)(o.a,{marginBottom:1,children:Object(U.jsx)(L.a,{color:"primary",variant:"contained",type:"submit",disabled:n||r,className:e.buttonBlock,children:"Submit"})}),Object(U.jsx)(o.a,{marginBottom:1,children:Object(U.jsx)(L.a,{variant:"contained",type:"reset",disabled:n||r,className:e.buttonBlock,children:"Reset"})})]})}}),Object(U.jsxs)(d.a,{variant:"subtitle1",children:["Already Registered?"," ",Object(U.jsx)(X.a,{onClick:function(){return t("/")},children:"Login"})]})]})})]})})})}var se=n(49);function ie(){return Object(f.c)((function(e){return e.auth.authenticated}))?Object(U.jsx)(p.b,{}):Object(U.jsx)(p.a,{to:"/"})}var oe=n(509),le=n(510),ue=n(503),je=n(511),de=n(512),be=n(513),he=n(494),Oe=n(495),me=n(35),xe=n.n(me),pe=n(111),ge="http://localhost:5000",fe=te.a.create();function ve(){return(ve=Object(pe.a)(xe.a.mark((function e(t){var n,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(ge,"/posts"),e.prev=1,e.next=4,fe.post(n,t);case 4:return r=e.sent,e.abrupt("return",200===r.status);case 8:return e.prev=8,e.t0=e.catch(1),console.log("Post Creation Failed : "+JSON.stringify(e.t0)),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ye(){return(ye=Object(pe.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(ge,"/posts"),e.abrupt("return",fe.get(t).then((function(e){return e.data.constructor.toString().indexOf("Array")>-1?e.data:[]})).catch((function(e){return console.log("Post Fetching Failed : "+JSON.stringify(e))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(pe.a)(xe.a.mark((function e(t){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(ge,"/posts/").concat(t),e.abrupt("return",fe.get(n).then((function(e){return e.data.constructor.toString().indexOf("Array")>-1?e.data:[]})).catch((function(e){return console.log("Post Fetching Failed : "+JSON.stringify(e))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(pe.a)(xe.a.mark((function e(t){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(ge,"/posts/").concat(t),e.abrupt("return",fe.delete(n).then((function(e){return console.log(e),!0})).catch((function(e){return console.log("Deletion Failed"),!1})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}fe.defaults.withCredentials=!0;var Se="SET_SNACKBAR",Ce={snackbarOpen:!1,snackbarType:"success",snackbarMessage:""},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:Se,snackbarOpen:e,snackbarType:t,snackbarMessage:n}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:var n=t.snackbarOpen,r=t.snackbarMessage,c=t.snackbarType;return Object(v.a)(Object(v.a)({},e),{},{snackbarOpen:n,snackbarType:c,snackbarMessage:r});default:return e}},Pe="SET_TRUE",Be="SET_FALSE",qe={boolTrigger:!1},Ae=function(){return{type:Pe}},Ee=function(){return{type:Be}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{boolTrigger:!0};case Be:return{boolTrigger:!1};default:return e}},Ie={title:"",message:""},Le=Object(Oe.a)((function(e){return{buttonBlock:{margin:"10px",display:"inline-block"}}}));function Ue(){var e=Object(f.c)((function(e){return e.auth.username})),t=Le(),n=Object(f.b)(),r=c.a.useState(!1),a=Object(i.a)(r,2),s=a[0],o=a[1];return Object(U.jsxs)("div",{children:[Object(U.jsx)(oe.a,{variant:"outlined",onClick:function(){o(!0)},children:"Create Post"}),Object(U.jsxs)(le.a,{open:s,onClose:function(){o(!1)},children:[Object(U.jsx)(ue.a,{children:"Create Post"}),Object(U.jsx)(je.a,{children:Object(U.jsx)(H.d,{initialValues:Ie,validationSchema:V.a().shape({title:V.c().required("Title is required").min(6,"Title Needs to be atleast 6 characters long").max(50,"Title cannot be more than 50 characters long"),message:V.c().required("Message is required").min(3,"Message should be minimum 3 characters").max(255,"Message cannot be more than 255 characters long")}),onSubmit:function(t,r){(function(e){return ve.apply(this,arguments)})({username:e,title:t.title,message:t.message}).then((function(e){n(Ne(!0,"success","New Post Created")),n(Ae())})).catch(n(Ne(!0,"error","Post Creation Failed"))),o(!1),console.log("Message submitted")},children:function(e){e.values,e.errors;var n=e.isSubmitting,r=e.isValidating;return Object(U.jsxs)(H.c,{children:[Object(U.jsx)(de.a,{marginBottom:2,children:Object(U.jsxs)(be.a,{children:[Object(U.jsx)(H.b,{required:!0,name:"title",type:"string",as:he.a,label:"Title"}),Object(U.jsx)(H.a,{name:"title"})]})}),Object(U.jsx)(de.a,{marginBottom:2,children:Object(U.jsxs)(be.a,{children:[Object(U.jsx)(H.b,{required:!0,name:"message",type:"string",as:he.a,multiline:!0,rows:4,label:"Message"}),Object(U.jsx)(H.a,{name:"message"})]})}),Object(U.jsxs)(de.a,{marginBottom:1,children:[Object(U.jsx)(oe.a,{color:"primary",variant:"contained",type:"submit",disabled:n||r,className:t.buttonBlock,children:"Submit"}),Object(U.jsx)(oe.a,{color:"primary",variant:"outlined",type:"reset",disabled:n||r,className:t.buttonBlock,children:"Reset"})]})]})}})})]})]})}var Me=n(489),Re=n(490),De=(n(491),n(492)),_e=n(493),Je=n(223),ze=n.n(Je),He=Object(D.a)((function(e){return{cardStyle:{width:"600px"},cardActions:{display:"flex",alignItem:"right"}}}));function Ve(e){var t=He(),n=e.post,r=n._id,c=n.username,a=n.name,s=n.message,i=n.title,o=e.currentUsername,l=Object(f.b)();return Object(U.jsxs)(Me.a,{className:t.cardStyle,children:[Object(U.jsx)(Re.a,{children:Object(U.jsxs)(De.a,{children:[Object(U.jsx)(d.a,{gutterBottom:!0,variant:"h6",component:"div",style:{textAlign:"left"},children:a}),Object(U.jsx)(d.a,{gutterBottom:!0,variant:"subtitle1",component:"div",style:{textAlign:"left"},children:Object(U.jsx)(se.b,{to:"/home/user",state:{username:c},children:c})}),Object(U.jsx)(d.a,{variant:"h6",component:"div",style:{textAlign:"left"},children:i}),Object(U.jsx)(d.a,{variant:"subtitle1",color:"text.secondary",children:s})]})}),Object(U.jsx)(_e.a,{sx:{display:"flex",flexDirection:"row",p:1,m:1,justifyContent:"flex-end"},children:o===c&&Object(U.jsx)(b.a,{"aria-label":"delete",size:"small",children:Object(U.jsx)(ze.a,{fontSize:"small",onClick:function(){(function(e){return ke.apply(this,arguments)})(r.valueOf()).then((function(){l(Ne(!0,"success","Post Deleted")),l(Ae())})).catch((function(){l(Ne(!0,"error","Deletion Failed"))}))}})})})]})}function We(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(p.h)(),s=Object(f.b)(),o=Object(r.useCallback)(s,[s]),l=Object(f.c)((function(e){return e.trigger.boolTrigger})),u=Object(f.c)((function(e){return e.auth.username}));return Object(r.useEffect)((function(){console.log("NewFeed Page Loaded"),function(){return ye.apply(this,arguments)}().then((function(e){return c(e)})).catch((function(e){console.log(e),a("/error")})),o(Ee())}),[n.length,l,a,o]),Object(U.jsx)("div",{children:Object(U.jsxs)(j.a,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)("div",{})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(Ue,{})}),n.map((function(e,t){return Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(Ve,{post:e,currentUsername:u})},t)}))]})})}function Ke(){return Object(U.jsx)("p",{children:"Create Post"})}var Ge=n(505),Ye=n(498),$e=Object(D.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Ze=function(){var e=$e(),t=Object(f.b)(),n=Object(f.c)((function(e){return e.snackbar.snackbarOpen})),r=Object(f.c)((function(e){return e.snackbar.snackbarType})),c=Object(f.c)((function(e){return e.snackbar.snackbarMessage})),a=function(e,n){"clickaway"!==n&&t(Ne(!1,r,c))};return Object(U.jsx)("div",{className:e.root,children:Object(U.jsx)(Ge.a,{open:n,autoHideDuration:3e3,onClose:a,children:Object(U.jsx)(Ye.a,{elevation:6,variant:"filled",onClose:a,color:r,children:c})})})};function Qe(){return Object(U.jsx)("div",{children:"Error"})}function Xe(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(p.h)(),o=Object(r.useCallback)(s,[s]),l=Object(f.b)(),u=Object(r.useCallback)(l,[l]),b=Object(p.g)(),h=Object(f.c)((function(e){return e.trigger.boolTrigger})),O=Object(f.c)((function(e){return e.auth.username})),m=Object(f.c)((function(e){return e.auth.name}));return Object(r.useEffect)((function(){(function(e){return we.apply(this,arguments)})(b.state.username).then((function(e){return a(e)})).catch((function(e){console.log(e),o("/error")})),u(Ee())}),[c.length,h,u,o,b.state.username]),Object(U.jsx)("div",{children:Object(U.jsxs)(j.a,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)("div",{})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)("div",{})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(d.a,{variant:"h3",gutterBottom:!0,component:"div",children:m})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)("div",{})}),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)("div",{})}),c.map((function(e,t){return Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(Ve,{post:e,currentUsername:O})},t)})),Object(U.jsx)(j.a,{item:!0,children:Object(U.jsx)(L.a,{variant:"contained",onClick:function(){return s(-1)},children:"Back"})})]})})}function et(){return Object(U.jsx)("div",{children:Object(U.jsx)(p.b,{})})}var tt=function(){return Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(Ze,{}),Object(U.jsx)(se.a,{children:Object(U.jsx)(p.e,{children:Object(U.jsxs)(p.c,{path:"/sm-frontend",element:Object(U.jsx)(et,{}),children:[Object(U.jsx)(p.c,{path:"/sm-frontend",element:Object(U.jsx)(Y,{})}),Object(U.jsx)(p.c,{path:"/sm-frontend/register",element:Object(U.jsx)(ae,{})}),Object(U.jsx)(p.c,{element:Object(U.jsx)(ie,{}),children:Object(U.jsxs)(p.c,{path:"/sm-frontend/home",element:Object(U.jsx)(R,{}),children:[Object(U.jsx)(p.c,{path:"/sm-frontend/home",element:Object(U.jsx)(We,{})}),Object(U.jsx)(p.c,{path:"/sm-frontend/home/addpost",element:Object(U.jsx)(Ke,{})}),Object(U.jsx)(p.c,{path:"/sm-frontend/home/user",element:Object(U.jsx)(Xe,{})})]})}),Object(U.jsx)(p.c,{path:"/sm-frontend/error",element:Object(U.jsx)(Qe,{})})]})})})]})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,516)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},rt=n(228),ct=n(224),at=n.n(ct),st=n(86),it=n(38),ot="http://localhost:5000",lt=te.a.create();function ut(e){var t=e;return console.log("Authentication Call"),lt.request({method:"POST",data:t,url:"".concat(ot,"/auth/login")})}function jt(){return lt.request({method:"POST",url:"".concat(ot,"/auth/refresh")})}function dt(){return lt.request({method:"POST",url:"".concat(ot,"/auth/cancel")})}lt.defaults.withCredentials=!0;var bt=xe.a.mark(mt),ht=xe.a.mark(xt),Ot=xe.a.mark(pt);function mt(e){var t;return xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("Handle Login User"),console.log("login user action called"),n.next=5,Object(it.a)(ut,e.payload);case 5:if(200===(t=n.sent).status){n.next=8;break}throw Error("Login Failed");case 8:return n.next=10,Object(it.b)(T(!0,t.data.username,t.data.name));case 10:return n.next=12,Object(it.b)(Ne(!0,"success","Log In Successful"));case 12:n.next=21;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(it.b)(T(!1));case 18:return n.next=20,Object(it.b)(Ne(!0,"error","Log In Failed"));case 20:console.log(n.t0);case 21:case"end":return n.stop()}}),bt,null,[[0,14]])}function xt(e){var t,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,console.log("Handle refresh token"),e.prev=2,console.log("handler caught"),e.next=6,Object(it.a)(jt);case 6:return 200===(n=e.sent).status&&(t=!0),e.next=10,Object(it.b)(T(t,n.data.username,n.data.name));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(2),e.next=16,Object(it.b)(T(t,null,null));case 16:case"end":return e.stop()}}),ht,null,[[2,12]])}function pt(e){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Handle Log Out "),e.next=4,Object(it.b)(T(!1,null,null));case 4:return e.next=6,Object(it.a)(dt);case 6:if(200!==e.sent.status){e.next=9;break}throw Error("Log Out Failed");case 9:return e.next=11,Object(it.b)(Ne(!0,"success","Log Out Successful"));case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log(),e.next=18,Object(it.b)(Ne(!0,"error","Log Out Failed"));case 18:case"end":return e.stop()}}),Ot,null,[[0,13]])}var gt=xe.a.mark(ft);function ft(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(it.c)(y,mt);case 2:return e.next=4,Object(it.c)(w,pt);case 4:return e.next=6,Object(it.c)(k,xt);case 6:case"end":return e.stop()}}),gt)}var vt=n(225);var yt=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),wt=Object(st.combineReducers)({snackbar:Te,auth:B,trigger:Fe}),kt=Object(rt.a)(),St=[kt,at.a],Ct=Object(st.createStore)(wt,yt,Object(vt.composeWithDevTools)(st.applyMiddleware.apply(void 0,St)));Ct.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}(Ct.getState())})),kt.run(ft),s.a.render(Object(U.jsx)(f.a,{store:Ct,children:Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(tt,{})})}),document.getElementById("root")),nt()}},[[388,1,2]]]);
//# sourceMappingURL=main.37512d0d.chunk.js.map